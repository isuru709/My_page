<!DOCTYPE html>
<html lang="en" data-theme="blackhole">
<head>
  <meta charset="UTF-8" />
  <title>IsuruHub ‚Äî Galaxy-Grade Apps and Projects</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <script>
    (function(){
      try {
        const saved = localStorage.getItem('isuruhub-theme');
        if (saved) document.documentElement.setAttribute('data-theme', saved);
      } catch(_) {}
    })();
  </script>

  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet" />

  <link href="styles.css" rel="stylesheet" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6853491396079017"
     crossorigin="anonymous"></script>
</head>

<script type="module">
  // Import Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
  import {
    getFirestore, collection, addDoc, serverTimestamp,
    query, orderBy, limit, getDocs, startAfter
  } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore.js";

  // Your firebase config (from console)
  const firebaseConfig = {
    apiKey: "YOUR_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Expose db to window for later use
  window.db = db;
  window.addDoc = addDoc;
  window.collection = collection;
  window.serverTimestamp = serverTimestamp;
  window.query = query;
  window.orderBy = orderBy;
  window.limit = limit;
  window.getDocs = getDocs;
  window.startAfter = startAfter;
</script>

<body class="min-h-screen text-slate-100 antialiased selection:bg-cyan-400/30 selection:text-white">
  <!-- 2D Cosmos background (3 themes + blinking stars + neutron star) -->
  <canvas id="cosmos" class="cosmos-canvas"></canvas>
  <!-- Dynamic cursor glass spotlight -->
  <div class="cursor-glass" aria-hidden="true"></div>
  <div class="gridlines -z-10"></div>

  <!-- Theme transition overlays -->
  <div id="blackhole-rise" class="theme-transition blackhole"></div>
  <div id="sunrise-sweep" class="theme-transition sunrise"></div>
  <div id="bluesun-wave" class="theme-transition bluesun"></div>

  <!-- Header -->
  <header class="sticky top-0 z-40 pt-4">
    <nav class="glass mx-auto w-[94%] max-w-[1200px] rounded-2xl px-4 sm:px-6 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="logo-glow relative grid h-11 w-11 place-content-center rounded-xl">
          <svg width="26" height="26" viewBox="0 0 24 24" class="text-cyan-300" aria-hidden="true">
            <path fill="currentColor" d="M12 2a2 2 0 0 1 2 2v4h4a2 2 0 0 1 0 4h-4v4a2 2 0 0 1-4 0v-4H6a2 2 0 1 1 0-4h4V4a2 2 0 0 1 2-2Z"/>
          </svg>
          <span class="logo-ring" aria-hidden="true"></span>
        </div>
        <div>
          <div class="text-xl font-extrabold tracking-tight brand-text" style="font-family:'Plus Jakarta Sans', Inter">IsuruHub</div>
          <p class="text-xs text-cyan-200/80">Galaxy‚Äëgrade apps for Windows ‚Ä¢ Android ‚Ä¢ Web</p>
        </div>
      </div>

      <div class="hidden md:flex items-center gap-2">
        <a href="#catalog" class="chip">Catalog</a>
        <a href="#features" class="chip">Features</a>
        <a href="#contact" class="chip">Contact</a>
        <button id="themeToggle" class="liquid-btn rounded-xl px-3 py-2 text-sm font-semibold relative ml-1" title="Cycle: Blackhole ‚Üí Sunrise ‚Üí Blue Sun" aria-pressed="false">
          <span class="sheen"></span><span class="bubbles"></span>
          <span class="inline-flex items-center gap-2">
            <span class="theme-icon theme-blackhole" aria-hidden="true">üåÄ</span>
            <span class="theme-icon theme-sunrise hidden" aria-hidden="true">‚òÄÔ∏è</span>
            <span class="theme-icon theme-bluesun hidden" aria-hidden="true">üîµ</span>
            Theme
          </span>
        </button>
      </div>

      <button id="menuToggle" class="md:hidden chip px-3 py-2" aria-expanded="false" aria-controls="mobileMenu">Menu</button>
    </nav>
    <div id="mobileMenu" class="glass mx-auto mt-2 hidden w-[94%] max-w-[1200px] rounded-2xl p-3">
      <div class="flex flex-col gap-2">
        <a class="chip w-full text-center" href="#catalog">Catalog</a>
        <a class="chip w-full text-center" href="#features">Features</a>
        <a class="chip w-full text-center" href="#contact">Contact</a>
        <button id="themeToggleMobile" class="liquid-btn rounded-xl px-3 py-2 text-sm font-semibold relative mt-1" aria-pressed="false">
          <span class="sheen"></span><span class="bubbles"></span>
          Toggle Theme
        </button>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative mx-auto mt-8 w-[94%] max-w-[1200px]">
    <div class="glass hero grid gap-8 rounded-3xl px-6 py-10 md:grid-cols-2 md:items-center md:p-12 overflow-hidden">
      <div class="space-y-6">
        <h1 class="text-4xl md:text-5xl font-extrabold leading-tight neon-title" style="font-family:'Plus Jakarta Sans', Inter">
          Build, Create, and Download with
          <span class="grad-text">unreal polish</span>
        </h1>
        <p class="text-cyan-100/85 text-lg">
          Liquid glass UI, solar-system ambiance, and buttery animations. Pick a category and explore apps and projects crafted by Isuru.
        </p>
        <div class="flex flex-wrap gap-3">
          <a href="#catalog" class="liquid-btn rounded-xl px-5 py-3 font-semibold relative">
            <span class="sheen"></span><span class="bubbles"></span>
            Explore Catalog
          </a>
          <a href="#contact" class="glass rounded-xl px-5 py-3 font-semibold">Contact</a>
        </div>

        
      </div>

      <div class="relative">
        <div class="tilt group relative mx-auto max-w-lg">
          <div class="showcase glass overflow-hidden rounded-3xl p-6">
            <div class="absolute -left-10 -top-10 h-40 w-40 rounded-full bg-gradient-to-tr from-cyan-500/30 to-fuchsia-500/30 blur-3xl"></div>
            <div class="absolute -right-10 -bottom-10 h-52 w-52 rounded-full bg-gradient-to-tr from-indigo-500/30 to-cyan-500/30 blur-3xl"></div>

            <div class="relative z-10">
              <svg class="w-full" viewBox="0 0 800 450" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <rect x="60" y="60" rx="22" width="520" height="330" fill="var(--panel)" stroke="rgba(255,255,255,.12)" stroke-width="2"/>
                <rect x="85" y="90" rx="12" width="470" height="250" fill="url(#gradA)"/>
                <circle cx="320" cy="360" r="10" fill="var(--panel-2)"/>
                <rect x="230" y="375" rx="6" width="180" height="12" fill="var(--panel-2)"/>
                <rect x="600" y="150" rx="18" width="120" height="220" fill="var(--panel)" stroke="rgba(255,255,255,.14)" stroke-width="2"/>
                <rect x="615" y="170" rx="10" width="90" height="180" fill="url(#gradB)"/>
                <circle cx="660" cy="355" r="6" fill="var(--panel-2)"/>
                <defs>
                  <linearGradient id="gradA" x1="0" x2="1">
                    <stop offset="0%" stop-color="#2dd4bf"/>
                    <stop offset="100%" stop-color="#a78bfa"/>
                  </linearGradient>
                  <linearGradient id="gradB" x1="0" x2="1">
                    <stop offset="0%" stop-color="#22d3ee"/>
                    <stop offset="100%" stop-color="#818cf8"/>
                  </linearGradient>
                </defs>
              </svg>
            </div>

            <div class="floating-dots" aria-hidden="true">
              <span style="--i:0"></span><span style="--i:1"></span><span style="--i:2"></span><span style="--i:3"></span><span style="--i:4"></span>
            </div>
          </div>
          <div class="tilt-glow"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Catalog -->
  <section id="catalog" class="mx-auto mt-12 w-[94%] max-w-[1200px]">
    <div class="grid grid-cols-1 md:grid-cols-[300px_1fr] gap-6 items-start">
      <!-- Left Categories (sticky column) -->
      <aside class="glass rounded-2xl p-5 sticky-col">
        <div class="mb-4">
          <h3 class="text-lg font-extrabold" style="font-family:'Plus Jakarta Sans', Inter">Categories</h3>
          <p class="text-cyan-200/70 text-xs">Click to filter items</p>
        </div>
        <nav id="categoryList" class="flex flex-col gap-2" aria-label="Catalog categories"></nav>

        <div class="mt-5">
          <h4 class="text-sm font-semibold mb-2">Quick Actions</h4>
          <div class="flex flex-wrap gap-2">
            <button id="resetFilters" class="chip">Reset</button>
            <button id="toggleAnimations" class="chip">Toggle Animations</button>
          </div>
        </div>
      </aside>

      <!-- Right Grid -->
      <div>
        <div class="mb-4 flex flex-wrap items-center justify-between gap-3">
          <h2 class="section-title">App & Project Catalog</h2>
          <input id="searchBox" class="input glass w-full sm:w-80" placeholder="Search by name, tag, or platform..." />
        </div>

        <div id="grid" class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          <!-- Windows -->
          <article class="card tilt" data-cat="windows" data-tags="video converter downloader player windows vc pro">
            <div class="card-media shine"><div class="blob"></div><img alt="Isuru VC Pro" src="5.jpg" class="media-img" onerror="this.style.display='none'"/></div>
            <div class="card-body">
              <h3 class="card-title">Isuru's VC Pro <span class="badge">Windows</span></h3>
              <p class="card-desc">High-compression Video Converter + Universal Downloader + All-in-One Player.</p>
              <div class="card-footer">
                <span class="muted">v1.6.3</span>
                <a class="liquid-btn btn-sm" target="_blank" href="https://www.mediafire.com/file/cwmf0lf1uqnrf41/Isuru_VC.exe/file"><span class="sheen"></span><span class="bubbles"></span>Download</a>
              </div>
            </div>
          </article>

          <article class="card tilt" data-cat="windows" data-tags="shutdown scheduler power windows">
            <div class="card-media shine"><div class="blob"></div><img alt="Shutdown Scheduler" src="6.jpg" class="media-img" onerror="this.style.display='none'"/></div>
            <div class="card-body">
              <h3 class="card-title">Shutdown Scheduler <span class="badge">Windows</span></h3>
              <p class="card-desc">Schedule shutdown, sleep, restart. Hibernate/Lock coming soon.</p>
              <div class="card-footer">
                <span class="muted">v1.0.0</span>
                <a class="liquid-btn btn-sm" target="_blank" href="https://www.mediafire.com/file/dk156teldmm4w4d/Shutdown-Sheduler.exe/file"><span class="sheen"></span><span class="bubbles"></span>Download</a>
              </div>
            </div>
          </article>

          <article class="card tilt" data-cat="windows" data-tags="universal downloader windows video audio">
            <div class="card-media shine"><div class="blob"></div><img alt="Uni-Video Downloader" src="8.jpg" class="media-img" onerror="this.style.display='none'"/></div>
            <div class="card-body">
              <h3 class="card-title">Uni-Video Downloader <span class="badge">Windows</span></h3>
              <p class="card-desc">Download any video/audio in any quality‚Äîunified and fast.</p><br>
              <div class="card-footer">
                <span class="muted">v1.1.0</span>
                <a class="liquid-btn btn-sm" target="_blank" href="https://www.mediafire.com/file/plsepqeqxjlvdyn/Uni-Downloader.zip/file"><span class="sheen"></span><span class="bubbles"></span>Download</a>
              </div>
            </div>
          </article>

          <!-- Android -->
          <article class="card tilt" data-cat="android" data-tags="android downloader video audio apk">
            <div class="card-media shine"><div class="blob"></div><img alt="Uni-Video Downloader Android" src="8.jpg" class="media-img" onerror="this.style.display='none'"/></div>
            <div class="card-body">
              <h3 class="card-title">Uni-Video Downloader <span class="badge">Android</span></h3>
              <p class="card-desc">Download videos and audio on the go, optimized for Android.</p>
              <div class="card-footer">
                <span class="muted">v1.1.0</span>
                <a class="liquid-btn btn-sm" target="_blank" href="https://www.mediafire.com/file/6adzy8am8iay2bq/uni_downloader.apk/file"><span class="sheen"></span><span class="bubbles"></span>Download</a>
              </div>
            </div>
          </article>

          <!-- iOS/Web -->
          <article class="card tilt" data-cat="iosweb" data-tags="web ios online uni downloader">
            <div class="card-media shine"><div class="blob"></div><img alt="Uni-Video Downloader Web" src="9.jpg" class="media-img" onerror="this.style.display='none'"/></div>
            <div class="card-body">
              <h3 class="card-title">Uni-Video Downloader <span class="badge">iOS/Web</span></h3>
              <p class="card-desc">Use it in the browser‚Äîno installation needed.</p>
              <div class="card-footer">
                <span class="muted">v1.1.0</span>
                <a class="liquid-btn btn-sm" target="_blank" href="https://uni.isuruhub.site:8443"><span class="sheen"></span><span class="bubbles"></span>Open</a>
              </div>
            </div>
          </article>

          <!-- Windows -->
          <article class="card tilt" data-cat="windows" data-tags="mp4 toolnix remux demux subtitles windows">
            <div class="card-media shine"><div class="blob"></div><img alt="MP4 Toolnix" src="10.jpg" class="media-img" onerror="this.style.display='none'"/></div>
            <div class="card-body">
              <h3 class="card-title">MP4 Toolnix <span class="badge">Windows</span></h3>
              <p class="card-desc">Demux/remux any video to MP4; add subtitles instantly.</p><br>
              <div class="card-footer">
                <span class="muted">v1.1.0</span>
                <a class="liquid-btn btn-sm" target="_blank" href="https://www.mediafire.com/file/9gwacb5zh4y0x9t/MP4_Toolnix_Pro.exe/file"><span class="sheen"></span><span class="bubbles"></span>Download</a>
              </div>
            </div>
          </article>

          <article class="card tilt" data-cat="windows" data-tags="torrent downloader windows developing">
            <div class="card-media shine"><div class="blob"></div><img alt="TorrentFlow" src="11.jpg" class="media-img" onerror="this.style.display='none'"/></div>
            <div class="card-body">
              <h3 class="card-title">TorrentFlow <span class="badge">Windows</span></h3>
              <p class="card-desc">No‚Äëlimit torrent downloader (Direct links supported). Under development.</p>
              <div class="card-footer">
                <span class="muted">v1.37.0</span>
                <button class="glass px-4 py-2 rounded-xl" disabled>Coming soon</button>
              </div>
            </div>
          </article>

          <!-- Websites -->
          <article class="card tilt" data-cat="websites" data-tags="website web uni downloader site">
            <div class="card-media shine"><div class="blob"></div><img alt="IsuruHub Uni Site" src="9.jpg" class="media-img" onerror="this.style.display='none'"/></div>
            <div class="card-body">
              <h3 class="card-title">Uni Downloader Site <span class="badge">Website</span></h3>
              <p class="card-desc">Fast, clean web interface for unified media downloads.</p>
              <div class="card-footer">
                <span class="muted">live</span>
                <a class="liquid-btn btn-sm" target="_blank" href="https://uni.isuruhub.site:8443"><span class="sheen"></span><span class="bubbles"></span>Open</a>
              </div>
            </div>
          </article>

          <!-- Database Projects -->
          <article class="card tilt" data-cat="database" data-tags="hospital management database hms project mysql">
            <div class="card-media shine"><div class="blob"></div><img alt="Hospital Management (DB)" src="https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=1200&q=60&auto=format&fit=crop" class="media-img"/></div>
            <div class="card-body">
              <h3 class="card-title">Hospital Management (DB) <span class="badge">Database</span></h3>
              <p class="card-desc">Schema & flows for hospital operations and appointments.</p>
              <div class="card-footer">
                <span class="muted">GitHub</span>
                <a class="liquid-btn btn-sm" target="_blank" href="https://github.com/isuru709/Hospital-Management-MY"><span class="sheen"></span><span class="bubbles"></span>View</a>
              </div>
            </div>
          </article>

          <article class="card tilt" data-cat="database" data-tags="new hms database project mysql">
            <div class="card-media shine"><div class="blob"></div><img alt="New HMS (DB)" src="https://images.unsplash.com/photo-1551076805-e1869033e561?w=1200&q=60&auto=format&fit=crop" class="media-img"/></div>
            <div class="card-body">
              <h3 class="card-title">New HMS (DB) <span class="badge">Database</span></h3>
              <p class="card-desc">Modular hospital DB project with improved relations.</p><br>
              <div class="card-footer">
                <span class="muted">GitHub</span>
                <a class="liquid-btn btn-sm" target="_blank" href="https://github.com/isuru709/New_HMS"><span class="sheen"></span><span class="bubbles"></span>View</a>
              </div>
            </div>
          </article>

          <!-- Developing -->
          <article class="card tilt" data-cat="developing" data-tags="developing nova ai media pipeline">
            <div class="card-media shine"><div class="blob"></div>
              <img alt="Project Nova" src="https://images.unsplash.com/photo-1462332420958-a05d1e002413?w=1200&q=60&auto=format&fit=crop" class="media-img"/>
            </div>
            <div class="card-body">
              <h3 class="card-title">Project Nova <span class="badge">Developing</span></h3>
              <p class="card-desc">Next‚Äëgen media processing engine with GPU acceleration.</p>
              <div class="card-footer">
                <span class="muted">alpha</span>
                <button class="glass px-4 py-2 rounded-xl" disabled>In progress</button>
              </div>
            </div>
          </article>

          <article class="card tilt" data-cat="developing" data-tags="developing project x downloader universal">
            <div class="card-media shine"><div class="blob"></div>
              <img alt="Project X" src="https://images.unsplash.com/photo-1473929733331-01f636a98856?w=1200&q=60&auto=format&fit=crop" class="media-img"/>
            </div>
            <div class="card-body">
              <h3 class="card-title">Project X <span class="badge">Developing</span></h3>
              <p class="card-desc">Unified downloader core with modular protocol adapters.</p>
              <div class="card-footer">
                <span class="muted">pre‚Äëalpha</span>
                <button class="glass px-4 py-2 rounded-xl" disabled>In progress</button>
              </div>
            </div>
          </article>

          <article class="card tilt" data-cat="developing" data-tags="developing orion ui toolkit glassmorphism">
            <div class="card-media shine"><div class="blob"></div>
              <img alt="Project Orion" src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?w=1200&q=60&auto=format&fit=crop" class="media-img"/>
            </div>
            <div class="card-body">
              <h3 class="card-title">Project Orion <span class="badge">Developing</span></h3>
              <p class="card-desc">Glass UI toolkit with live animations and low CPU usage.</p>
              <div class="card-footer">
                <span class="muted">design</span>
                <button class="glass px-4 py-2 rounded-xl" disabled>In progress</button>
              </div>
            </div>
          </article>

          <article class="card tilt" data-cat="developing" data-tags="developing flux realtime sync">
            <div class="card-media shine"><div class="blob"></div>
              <img alt="Project Flux" src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=1200&q=60&auto=format&fit=crop" class="media-img"/>
            </div>
            <div class="card-body">
              <h3 class="card-title">Project Flux <span class="badge">Developing</span></h3>
              <p class="card-desc">Real‚Äëtime project sync layer with offline‚Äëfirst design.</p>
              <div class="card-footer">
                <span class="muted">R&D</span>
                <button class="glass px-4 py-2 rounded-xl" disabled>In progress</button>
              </div>
            </div>
          </article>
        </div>

        <div id="emptyState" class="hidden mt-6 text-center text-cyan-200/80">
          No items match your filter. Try another category or clear search.
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section id="features" class="mx-auto mt-16 w-[94%] max-w-[1200px]">
    <div class="mb-8">
      <h2 class="section-title">Why IsuruHub stands out</h2>
      <p class="section-sub">Ridiculously smooth UX, galaxy‚Äëgrade visuals, and solid engineering.</p>
    </div>
    <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      <div class="feature glass rounded-2xl p-5 tilt">
        <div class="feature-icon bg-indigo-500/20 text-indigo-300"><svg width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M10 20v-6H4l10-10v6h6L10 20z"/></svg></div>
        <h3 class="feature-title">Performance Tuned</h3>
        <p class="feature-text">Optimized rendering, throttled animations, and smooth IO.</p>
      </div>
      <div class="feature glass rounded-2xl p-5 tilt">
        <div class="feature-icon bg-fuchsia-500/20 text-fuchsia-300"><svg width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12c5.16-1.26 9-6.45 9-12V5l-9-4z"/></svg></div>
        <h3 class="feature-title">Security First</h3>
        <p class="feature-text">Safe downloads and transparent project repositories.</p>
      </div>
      <div class="feature glass rounded-2xl p-5 tilt">
        <div class="feature-icon bg-cyan-500/20 text-cyan-300"><svg width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="m5 8l7-5l7 5v11a2 2 0 0 1-2 2h-3v-6H10v6H7a2 2 0 0 1-2-2z"/></svg></div>
        <h3 class="feature-title">Liquid Glass UI</h3>
        <p class="feature-text">Polished glassmorphism, liquid buttons, and tilt cards.</p>
      </div>
      <div class="feature glass rounded-2xl p-5 tilt">
        <div class="feature-icon bg-emerald-500/20 text-emerald-300"><svg width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M19 13H5v-2h14v2Z"/></svg></div>
        <h3 class="feature-title">Simple Filtering</h3>
        <p class="feature-text">Left‚Äëpane categories and instant in‚Äëpage filtering.</p>
      </div>
      <div class="feature glass rounded-2xl p-5 tilt">
        <div class="feature-icon bg-amber-500/20 text-amber-300"><svg width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M22 12l-4 4v-3H3v-2h15V8l4 4Z"/></svg></div>
        <h3 class="feature-title">Frequent Updates</h3>
        <p class="feature-text">Continuous improvements and quick fixes.</p>
      </div>
      <div class="feature glass rounded-2xl p-5 tilt">
        <div class="feature-icon bg-sky-500/20 text-sky-300"><svg width="22" height="22" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3a9 9 0 0 0-9 9v7h6v-7H6a6 6 0 0 1 12 0h-3v7h6v-7a9 9 0 0 0-9-9Z"/></svg></div>
        <h3 class="feature-title">Malware‚ÄëFree</h3>
        <p class="feature-text">Releases are scanned and verified.</p>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="mx-auto mt-16 w-[94%] max-w-[900px]">
    <div class="glass rounded-3xl p-6 sm:p-10">
      <div class="mb-6 flex items-center justify-between gap-3">
        <div>
          <h2 class="section-title">Get in touch</h2>
          <p class="section-sub">Have questions or collaboration ideas? Let‚Äôs talk.</p>
        </div>
        <div id="fb-status" class="text-xs text-cyan-200/70">Firebase: <span class="font-semibold" id="fb-state-text">checking‚Ä¶</span></div>
      </div>
      <form id="contact-form" class="grid gap-4 sm:grid-cols-2">
        <input class="input glass" id="name" name="name" placeholder="Your name" required />
        <input class="input glass" id="email" name="email" placeholder="Email address" type="email" required />
        <input class="input glass sm:col-span-2" id="subject" name="subject" placeholder="Subject" />
        <textarea class="input glass sm:col-span-2 h-32" id="message" name="message" placeholder="Message" required></textarea>
        <div class="sm:col-span-2">
          <button type="submit" class="liquid-btn rounded-xl px-6 py-3 font-semibold relative">
            <span class="sheen"></span><span class="bubbles"></span>
            Send Message
          </button>
        </div>
      </form>

      <div id="comments-section" class="mt-8 max-w-4xl mx-auto">
        <h3 class="text-2xl font-semibold text-white mb-4">Messages</h3>
        <div id="comments-list" class="space-y-4 max-h-96 overflow-y-auto p-4 bg-black/30 rounded-lg shadow-inner border border-white/20"></div>
        <div class="text-center mt-4">
          <button id="load-more" class="px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white shadow transition duration-300 hidden">Load more</button>
        </div>
      </div>
    </div>
  </section>

  <!-- About Me + Bank Details -->
  <section id="about" class="mx-auto mt-16 w-[94%] max-w-[900px]">
    <div class="glass rounded-3xl p-6 sm:p-10">
      <div class="mb-6">
        <h2 class="section-title">About Me</h2>
        <p class="section-sub">Hello, I‚Äôm Isuru Dananjaya Sampath ‚Äî Computer Science and Engineering student at the University of Moratuwa, Sri Lanka.</p>
      </div>
      <div class="grid gap-6 md:grid-cols-2">
        <div class="glass rounded-2xl p-4">
          <h3 class="font-bold mb-2">Background</h3>
          <p class="text-cyan-100/85">
            I build performant tools for Windows, Android, and the Web‚Äîfocusing on media processing, downloaders, and productivity apps.
            Your support directly helps me continue my education and projects.
          </p>
        </div>
        <div class="glass rounded-2xl p-4">
          <h3 class="font-bold mb-2">Contact</h3>
          <ul class="text-cyan-100/85 space-y-1 text-sm">
            <li>Email: sampathwid.23@uom.lk</li>
            <li>GitHub: <a class="underline" target="_blank" href="https://github.com/isuru709">isuru709</a></li>
            <li>Facebook: <a class="underline" target="_blank" href="https://www.facebook.com/Isuru907">Isuru907</a></li>
            <li>LinkedIn: <a class="underline" target="_blank" href="https://linkedin.com/in/isuru-sampath-563095245">Profile</a></li>
          </ul>
        </div>
      </div>

      <div class="mt-8">
        <h3 class="text-lg font-extrabold mb-3">Bank Details</h3>
        <div class="grid gap-4 md:grid-cols-2">
          <div class="glass rounded-2xl p-4">
            <h4 class="font-semibold">Bank of Ceylon (BOC)</h4>
            <p class="text-cyan-100/85 text-sm mt-1">
              Account No: <b>4550879</b><br/>
              Name: <b>ISURU DANANJAYA SAMPATH (SAMPATH W.I.D)</b><br/>
              University Email: <b>sampathwid.23@uom.lk</b>
            </p>
          </div>
          <div class="glass rounded-2xl p-4">
            <h4 class="font-semibold">Commercial Bank</h4>
            <p class="text-cyan-100/85 text-sm mt-1">
              Account No: <b>8012687219</b><br/>
              Name: <b>ISURU DANANJAYA SAMPATH (SAMPATH W.I.D)</b><br/>
              University Email: <b>sampathwid.23@uom.lk</b>
            </p>
          </div>
        </div>
        <p class="mt-4 text-amber-300 text-center">Thank you very much for your kind support üíô</p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="mx-auto my-10 w-[94%] max-w-[1200px]">
    <div class="glass rounded-2xl p-5 flex flex-col sm:flex-row items-center justify-between gap-3">
      <p class="text-sm text-cyan-200/75">¬© <span id="year"></span> IsuruHub. All rights reserved.</p>
      <div class="flex gap-3 text-sm">
        <a class="chip px-3 py-1" href="https://facebook.com/Isuru907" target="_blank">Facebook</a>
        <a class="chip px-3 py-1" href="https://github.com/isuru709" target="_blank">GitHub</a>
        <a class="chip px-3 py-1" href="https://linkedin.com/in/isuru-sampath-563095245" target="_blank">LinkedIn</a>
      </div>
    </div>
  </footer>

  <!-- AI Agent Chatbot -->
  <script async
    src="https://akczd7md5vtwneb3dno6iahz.agents.do-ai.run/static/chatbot/widget.js"
    data-agent-id="5f825e19-8a38-11f0-b074-4e013e2ddde4"
    data-chatbot-id="Bq197Q1eHT5SMF_e-qQ53D_wcXNVjwEi"
    data-name="Isuru Sampath"
    data-primary-color="#031B4E"
    data-secondary-color="#E5E8ED"
    data-button-background-color="#0061EB"
    data-starting-message="Hello! How can I help you today?"
    data-logo="/static/chatbot/icons/default-agent.svg">
  </script>

  <script src="script.js" defer></script>
  <script type="module" src="firebase.js"></script>
  
  
  <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getFirestore, collection, addDoc, serverTimestamp, query, orderBy, limit, getDocs, startAfter, onSnapshot } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

// Your Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyBZzf8jJ4vK2NpBt-V--muiMY2TjaL_oyw",
  authDomain: "my-web-d65b7.firebaseapp.com",
  projectId: "my-web-d65b7",
  storageBucket: "my-web-d65b7.firebasestorage.app",
  messagingSenderId: "1080881570179",
  appId: "1:1080881570179:web:f0e9d9dc1a9e29b58096b6",
  measurementId: "G-NTVGVZD8LE"
};

// Initialize Firebase and Firestore
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// ====== DOM Elements ======
const contactForm = document.getElementById('contact-form');
const commentsList = document.getElementById('comments-list');
const loadMoreBtn = document.getElementById('load-more');

const PAGE_SIZE = 10;
let lastVisible = null;
const renderedIds = new Set();

// ====== Helper Functions ======
function formatDate(ts) {
  try {
    if (!ts) return '';
    const d = ts.toDate ? ts.toDate() : new Date(ts);
    return d.toLocaleString();
  } catch {
    return '';
  }
}

function createCommentCard(doc) {
  const data = doc.data();
  const id = doc.id;
  if (renderedIds.has(id)) return null;
  renderedIds.add(id);

  const container = document.createElement('div');
  container.className = 'bg-gray-800 p-4 rounded-lg';
  container.dataset.id = id;

  const top = document.createElement('div');
  top.className = 'flex items-center justify-between';
  const nameEl = document.createElement('div');
  nameEl.className = 'font-semibold text-white';
  nameEl.textContent = data.name || 'Anonymous';
  const timeEl = document.createElement('div');
  timeEl.className = 'text-sm text-gray-400';
  timeEl.textContent = formatDate(data.createdAt);
  top.appendChild(nameEl);
  top.appendChild(timeEl);

  const subjectEl = document.createElement('div');
  subjectEl.className = 'text-sm text-gray-300 mt-1';
  if (data.subject) subjectEl.textContent = data.subject;

  const LIMIT = 180;
  const full = (data.message || '').trim();
  const messageEl = document.createElement('p');
  messageEl.className = 'mt-2 text-gray-200 whitespace-pre-wrap';
  const moreBtn = document.createElement('button');
  moreBtn.className = 'ml-2 text-sm underline text-indigo-400';
  moreBtn.type = 'button';

  if (full.length > LIMIT) {
    messageEl.textContent = full.slice(0, LIMIT) + '...';
    moreBtn.textContent = 'Show more';
    moreBtn.addEventListener('click', () => {
      if (moreBtn.textContent === 'Show more') {
        messageEl.textContent = full;
        moreBtn.textContent = 'Show less';
      } else {
        messageEl.textContent = full.slice(0, LIMIT) + '...';
        moreBtn.textContent = 'Show more';
      }
    });
  } else {
    messageEl.textContent = full;
    moreBtn.style.display = 'none';
  }

  container.appendChild(top);
  if (data.subject) container.appendChild(subjectEl);
  container.appendChild(messageEl);
  container.appendChild(moreBtn);

  return container;
}

function prependComment(doc) {
  const el = createCommentCard(doc);
  if (!el) return;
  commentsList.insertBefore(el, commentsList.firstChild);
}

function appendComment(doc) {
  const el = createCommentCard(doc);
  if (!el) return;
  commentsList.appendChild(el);
}

// ====== Submit Form ======
contactForm.addEventListener('submit', async (e) => {
  e.preventDefault();
  const btn = contactForm.querySelector('button[type="submit"]');
  btn.disabled = true;
  btn.textContent = 'Sending...';

  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const subject = document.getElementById('subject').value.trim();
  const message = document.getElementById('message').value.trim();

  if (!name || !email || !message) {
    alert('Please fill name, email, and message.');
    btn.disabled = false;
    btn.textContent = 'Send Message';
    return;
  }

  try {
    await addDoc(collection(db, 'contacts'), { name, email, subject, message, createdAt: serverTimestamp() });
    contactForm.reset();
    btn.textContent = 'Sent ‚úì';
    setTimeout(() => { btn.textContent = 'Send Message'; btn.disabled = false; }, 900);
  } catch (err) {
    console.error(err);
    alert('Failed to send message.');
    btn.disabled = false;
    btn.textContent = 'Send Message';
  }
});

// ====== Load initial messages ======
async function fetchInitial() {
  const q = query(collection(db, 'contacts'), orderBy('createdAt', 'desc'), limit(PAGE_SIZE));
  const snap = await getDocs(q);
  commentsList.innerHTML = '';
  renderedIds.clear();
  snap.docs.forEach(doc => appendComment(doc));
  lastVisible = snap.docs[snap.docs.length - 1] || null;
  loadMoreBtn.hidden = (snap.size < PAGE_SIZE);
}
fetchInitial();

// ====== Load more button ======
loadMoreBtn.addEventListener('click', async () => {
  if (!lastVisible) return;
  loadMoreBtn.disabled = true;
  const qMore = query(collection(db, 'contacts'), orderBy('createdAt', 'desc'), startAfter(lastVisible), limit(PAGE_SIZE));
  const snap = await getDocs(qMore);
  snap.docs.forEach(doc => appendComment(doc));
  lastVisible = snap.docs[snap.docs.length - 1] || lastVisible;
  if (snap.size < PAGE_SIZE) loadMoreBtn.hidden = true;
  loadMoreBtn.disabled = false;
});

// ====== Realtime updates ======
const qLatest = query(collection(db, 'contacts'), orderBy('createdAt', 'desc'), limit(1));
onSnapshot(qLatest, (snap) => {
  snap.docChanges().forEach(change => {
    if (change.type === 'added') {
      if (!renderedIds.has(change.doc.id)) prependComment(change.doc);
    }
  });
});
</script>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>